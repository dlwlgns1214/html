"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{98332:function(t,e,n){n.d(e,{Z:function(){return z}});var r=n(94275),o=n(77073),i=n(63081),a=n.n(i),u=(n(7243),n(61398),n(25849),n(75686),n(36038),n(51963),n(53371),n(9554),n(64069),n(41649)),s=n.n(u),c=n(72139),l=n.n(c),d=n(81394),f=n(89703),m=n(83348),v=n(18627),p=n(96402),h=n(30627),C=n.n(h),g=n(91661),x=n(5961),S=n(9497),E=n(36233),w=n.n(E);function L(t){var e=t.key,n=(0,f.useState)(!1),r=n[0],o=n[1],i=(0,f.useState)(null),a=i[0],u=i[1];(0,f.useEffect)((function(){s()}),[]),(0,f.useEffect)((function(){if(a){c();var t=m();o(a!==1*t)}}),[a]);var s=function(){var t=c(),e=d();e&&!v(e)||(o(!0),localStorage.removeItem(t.time),localStorage.removeItem(t.value))},c=function(){return{time:"".concat(e,"_time"),value:"".concat(e,"_value")}},d=function(){var t=c();return localStorage.getItem(t.time)},m=function(){var t=c();return localStorage.getItem(t.value)},v=function(t){var e=l()().set("hour",0).set("minute",0).set("second",0).set("millisecond",0),n=l()(l().unix(t)).set("hour",0).set("minute",0).set("second",0).set("millisecond",0);return e.diff(n,"day",!0)>0};return{isShow:r,handleBadge:function(){var t=c();o(!1),localStorage.setItem(t.time,JSON.stringify(l()().unix())),localStorage.setItem(t.value,JSON.stringify(a))},handleValue:function(t){u(t)}}}l().extend(w());var T=n(92769),U=n(84589),I=n(2891),_=n(62676),b=n(76314),M=n(89668),q=n(49456),y=n(6219),k=n(20348),D=n(86025);l().extend(D);var B=s().bind(C());function z(t){var e=t.adType,n=t.shoppingData,i=t.brandShopData,u=t.mallNameLinkData,s=t.focusItemData,c=t.newsData,h=t.todayPickData,C=t.title,E=t.bridgeUrl,w=(0,x.h)(1,n.length),D=w.totalPages,z=w.page,O=w.next,A=w.prev,N=w.index,Z=w.isLast,j=(0,x.s)(),H=j.reviewCount,F=j.cartCount,P=j.orderCount,Y=j.countFormat,K=j.isSingleDigit,R=(0,U.Z)().isDarkMode,V=(0,f.useState)([]),J=V[0],W=V[1],$=(0,f.useState)([]),G=$[0],Q=$[1],X=(0,f.useState)([]),tt=X[0],et=X[1],nt=(0,f.useState)(0),rt=nt[0],ot=nt[1],it=(0,f.useState)(0),at=it[0],ut=it[1],st=(0,m.FV)(y.Y.showHotItemLayer),ct=(0,o.default)(st,2),lt=ct[0],dt=ct[1],ft=(0,f.useState)(null),mt=ft[0],vt=ft[1],pt=(0,d.useRouter)(),ht=(0,S.Z)(),Ct=(ht.user,ht.isLogin),gt=(ht.mutate,L({key:"review"})),xt=gt.isShow,St=gt.handleBadge,Et=gt.handleValue,wt=L({key:"cart"}),Lt=wt.isShow,Tt=wt.handleBadge,Ut=wt.handleValue,It=L({key:"order"}),_t=It.isShow,bt=It.handleBadge,Mt=It.handleValue,qt=(0,f.useState)(0),yt=qt[0],kt=qt[1],Dt=(0,T.Z)(),Bt=Dt.isExistZoomItemExposeUrl,zt=Dt.convertExposeUrl,Ot=Dt.convertZoomItemMallExposeUrl,At=Dt.convertZoomItemCntsExposeUrl,Nt=Dt.mergeExposeUrlList,Zt=Dt.mergeZoomItemExposeUrlList;(0,f.useEffect)((function(){et(u.map((function(t){return(0,v.l$)(t,1)})))}),[]),(0,f.useEffect)((function(){Et(H)}),[H]),(0,f.useEffect)((function(){Ut(F)}),[F]),(0,f.useEffect)((function(){Mt(P)}),[P]),(0,f.useEffect)((function(){var t="";window&&(t=window.location.origin);var e=t.includes("shopsquare")?"":g.k.getConfig().proxyPath;(0,q.rj)(Ct,(function(){return pt.push("".concat(e,"/plusdeal"))}))}),[Ct]),(0,f.useEffect)((function(){if(n[N]&&W(n[N].filter((function(t){return null!==t.contentsList})).map((function(t){return t.contentsList.filter((function(t){return t.benefitTypes.length>0})).map((function(t){return t.adCntsSeq}))})).flatMap((function(t){return t})).sort((function(){return Math.random()-.5})).slice(0,3)),i.length>0){var t=i[N%i.length].contentsList.filter((function(t){return""!==t.adCntsDesc2&&"0"!==t.adCntsDesc2})).map((function(t){return t.adCntsSeq})).sort((function(){return Math.random()-.5})).slice(0,2);Q(t)}Ht()}),[z]);var jt=function(t){return G.includes(t)},Ht=function(){var t=(0,r.default)(a().mark((function t(){var r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n.length>0&&(r=r.concat(n[N].map((function(t){return t.contentsList})).flatMap((function(t){return t})).map((function(t,n){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[e].HOT_ITEM,expsTrtrCd:_.m[e]["HOT_ITEM_".concat(n+1)]}})))),h.length>0&&(r=r.concat(h[N%h.length].contentsList.map((function(t,n){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[e].TODAY_PICK,expsTrtrCd:_.m[e].TODAY_PICK}})))),Pt()&&(r=r.concat(s[Rt()].contentsList.map((function(t,n){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[e].FOCUS_TEM,expsTrtrCd:_.m[e].FOCUS_TEM}})))),Ft()&&(r=r.concat(u.flatMap((function(t){return t})).map((function(t){return t.contentsList})).flatMap((function(t){return t})).map((function(t,n){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[e].MALL_NAME_LINK,expsTrtrCd:_.m[e].MALL_NAME_LINK}})))),Yt()&&(r=r.concat(c[0].contentsList.map((function(t,n){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[e].NEWS,expsTrtrCd:_.m[e]["NEWS_".concat(n+1)]}})))),Kt()&&(r=r.concat(i[N%i.length].contentsList.map((function(t,n){return{adCntsSeq:null===t||void 0===t?void 0:t.adCntsSeq,bizCd:null===t||void 0===t?void 0:t.bizCd,inflowCd:b.d[e].BRAND_SHOP,expsTrtrCd:_.m[e]["BRAND_SHOP_".concat(t.adCntsOrd)]}})))),t.next=9,I.K.BY_ITEMS(r,null);case 9:o=t.sent,Nt(o);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ft=function(){return!Yt()&&!Kt()&&u.length>0},Pt=function(){return!Yt()&&!Kt()&&s.length>0},Yt=function(){return z===D&&c.length>0&&c[0].contentsList.length>=6},Kt=function(){return i.length>0&&i[N%i.length]&&z>1},Rt=function(){if($t()>=0){var t=D*s.length/$t()/s.length;return Math.floor(yt/t)}return N<s.length?N:N%s.length},Vt=function(t){var e="#D07A7A",n="#7292B9",r="#9288BD",o="#56A07B",i="#888CB3";if(!R)return t;switch(t){case"#920D0D":return e;case"#144582":return n;case"#6656AA":return r;case"#268053":return o;case"#292F60":return i;default:return t}},Jt=function(){var t=(0,r.default)(a().mark((function t(r,o){var i,u,s,c,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=o<=5?Math.max(0,o-1):o-2,ot(o),ut(i),lt&&r?(Wt(),dt(!1),setTimeout((function(){dt(r)}),300)):dt(r),!(u=n[N][o])){t.next=13;break}return s=u.contentsList[0],c=(c=[{adCntsSeq:null===s||void 0===s?void 0:s.adCntsSeq,bizCd:null===s||void 0===s?void 0:s.bizCd,inflowCd:b.d[e].HOT_ITEM,expsTrtrCd:_.m[e]["HOT_ITEM_ZOOM_".concat(o+1)],redirectUrl:null===s||void 0===s?void 0:s.adCntsUrl2}]).filter((function(t){return!Bt(t.adCntsSeq)})),t.next=11,I.K.BY_ITEMS(c,null);case 11:(l=t.sent).length>0&&Zt(l[0]);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Wt=function(){mt&&clearTimeout(mt)},$t=function(){return 2},Gt=function(){var t=$t(),e=D*s.length/t-1;kt(yt<e?yt+1:0)},Qt=function(){var t=$t(),e=D*s.length/t-1;kt(yt>0?yt-1:e)};return(0,k.jsxs)(k.Fragment,{children:[h.length>0&&h[N%h.length]&&(0,k.jsx)(p.Y8,{adType:e,convertExposeUrl:zt,item:h[N%h.length],totalPages:D,page:z,next:function(t){M.t.click(t,M.t.shoppingblock[e].itemnext2),O(t),dt(!1),Gt()},prev:function(t){M.t.click(t,M.t.shoppingblock[e].itemprev2),A(t),dt(!1),Qt()},isDarkMode:R}),(0,k.jsxs)("div",{className:B("commerce_area"),role:"tabpanel",children:[n.length>0&&(0,k.jsx)(p.UM,{page:z,adType:e,convertExposeUrl:zt,convertZoomItemMallExposeUrl:Ot,convertZoomItemCntsExposeUrl:At,items:n[N],isLast:Z,isActiveLabel:function(t){return J.includes(t)},hotItemIndex:rt,hotItemLayerIndex:at,showHotItemLayer:lt,handleHotItemLayer:Jt,bridgeUrl:E,onMouseEnterHotItemLayer:Wt,onMouseLeaveHotItemLayer:function(){vt(setTimeout((function(){dt(!1),vt(null)}),1e3))},showLayerABTest:function(){var t=l()("2023-05-25 00:00:00"),e=l()("2023-05-25 23:59:59");return!l()().isBetween(t,e)}}),(0,k.jsx)("div",{className:B("shopping_desc"),children:function(){if(Yt())return(0,k.jsx)(p.Sq,{page:z,adType:e,convertExposeUrl:zt,board:c[0]});if(Kt())return(0,k.jsx)(p.DN,{page:z,adType:e,convertExposeUrl:zt,item:i[N%i.length],index:N-1,isDarkMode:R,showDiscountLabel:jt});var t=Rt();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(p.$8,{adType:e,convertExposeUrl:zt,items:u,boldIndexList:tt}),(0,k.jsx)(p.tk,{adType:e,reviewCount:H,cartCount:F,orderCount:P,countFormat:Y,isSingleDigit:K,isShowReviewBadge:xt,handleShowReviewBadge:St,isShowCartBadge:Lt,handleShowCartBadge:Tt,isShowOrderBadge:_t,handleShowOrderBadge:bt}),s&&s.length>0&&("C"===s[Rt()].brdTpCd?(0,k.jsx)(p.D0,{adType:e,convertExposeUrl:zt,item:s[t]}):(0,k.jsx)(p.xC,{adType:e,convertExposeUrl:zt,item:s[t],convertFocusTagColor:Vt}))]})}()})]}),(0,k.jsx)(p.tl,{totalPages:D,page:z,next:function(t){M.t.click(t,M.t.shoppingblock[e].itemnext),O(t),dt(!1),Gt()},prev:function(t){M.t.click(t,M.t.shoppingblock[e].itemprev),A(t),dt(!1),Qt()},title:C,showAdTag:!0})]})}},92769:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(77073),o=(n(35573),n(10249),n(88826),n(83197),n(9833),n(46338),n(64069),n(9554),n(61398),n(25849),n(7243),n(83348)),i=n(6219);function a(){var t=(0,o.FV)(i.Y.exposeUrlListState),e=(0,r.default)(t,2),n=e[0],a=e[1];return{isExistExposeUrl:function(t){return n.filter((function(e){return 1*e.adCntsSeq===1*t})).length>0},isExistZoomItemExposeUrl:function(t){return n.filter((function(e){return 1*e.zoom_adCntsSeq===1*t})).length>0},convertExposeUrl:function(t,e){var r=n.find((function(e){return 1*e.adCntsSeq===1*t}));return r?r.adCntsUrl:e},convertZoomItemMallExposeUrl:function(t,e){var r=n.find((function(e){return 1*e.zoom_adCntsSeq===1*t}));return r?r.mallUrl:e},convertZoomItemCntsExposeUrl:function(t,e){var r=n.find((function(e){return 1*e.zoom_adCntsSeq===1*t}));return r?r.cntsUrl:e},mergeExposeUrlList:function(t){a(n.filter((function(e){return t.map((function(t){return t.adCntsSeq})).includes(e.adCntsSeq)})).concat(t))},mergeZoomItemExposeUrlList:function(t){var e=new URL(t.adCntsUrl);e.searchParams.delete("ru");var r=t.adCntsUrl,o=e.href;a(n.concat([{zoom_adCntsSeq:t.adCntsSeq,mallUrl:r,cntsUrl:o}]))}}}}}]);